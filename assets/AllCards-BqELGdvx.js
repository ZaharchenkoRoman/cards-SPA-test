import{c as e,o as t,s as n,t as r}from"./useSlot-CV5nTCVB.js";import{t as i}from"./Input-CY7dZI4s.js";import{A as a,E as o,F as s,I as c,N as l,T as u,b as d,d as f,f as p,h as m,j as h,k as g,m as _,n as v,r as y,t as b,w as x}from"./index-D4NonDyJ.js";function S(e){return u(`MuiPagination`,e)}x(`MuiPagination`,[`root`,`ul`,`outlined`,`text`]);function C(e={}){let{boundaryCount:n=1,componentName:r=`usePagination`,count:i=1,defaultPage:a=1,disabled:o=!1,hideNextButton:s=!1,hidePrevButton:c=!1,onChange:l,page:u,showFirstButton:d=!1,showLastButton:f=!1,siblingCount:p=1,...m}=e,[h,g]=t({controlled:u,default:a,name:r,state:`page`}),_=(e,t)=>{u||g(t),l&&l(e,t)},v=(e,t)=>{let n=t-e+1;return Array.from({length:n},(t,n)=>e+n)},y=v(1,Math.min(n,i)),b=v(Math.max(i-n+1,n+1),i),x=Math.max(Math.min(h-p,i-n-p*2-1),n+2),S=Math.min(Math.max(h+p,n+p*2+2),i-n-1),C=[...d?[`first`]:[],...c?[]:[`previous`],...y,...x>n+2?[`start-ellipsis`]:n+1<i-n?[n+1]:[],...v(x,S),...S<i-n-1?[`end-ellipsis`]:i-n>n?[i-n]:[],...b,...s?[]:[`next`],...f?[`last`]:[]],w=e=>{switch(e){case`first`:return 1;case`previous`:return h-1;case`next`:return h+1;case`last`:return i;default:return null}};return{items:C.map(e=>typeof e==`number`?{onClick:t=>{_(t,e)},type:`page`,page:e,selected:e===h,disabled:o,"aria-current":e===h?`page`:void 0}:{onClick:t=>{_(t,w(e))},type:e,page:w(e),selected:!1,disabled:o||!e.includes(`ellipsis`)&&(e===`next`||e===`last`?h>=i:h<=1)}),...m}}function w(e){return u(`MuiPaginationItem`,e)}var T=x(`MuiPaginationItem`,[`root`,`page`,`sizeSmall`,`sizeLarge`,`text`,`textPrimary`,`textSecondary`,`outlined`,`outlinedPrimary`,`outlinedSecondary`,`rounded`,`ellipsis`,`firstLast`,`previousNext`,`focusVisible`,`disabled`,`selected`,`icon`,`colorPrimary`,`colorSecondary`]),E=c(a()),D=n((0,E.jsx)(`path`,{d:`M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z`}),`FirstPage`),O=n((0,E.jsx)(`path`,{d:`M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z`}),`LastPage`),k=n((0,E.jsx)(`path`,{d:`M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z`}),`NavigateBefore`),ee=n((0,E.jsx)(`path`,{d:`M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z`}),`NavigateNext`),A=c(s()),j=(e,t)=>{let{ownerState:n}=e;return[t.root,t[n.variant],t[`size${_(n.size)}`],n.variant===`text`&&t[`text${_(n.color)}`],n.variant===`outlined`&&t[`outlined${_(n.color)}`],n.shape===`rounded`&&t.rounded,n.type===`page`&&t.page,(n.type===`start-ellipsis`||n.type===`end-ellipsis`)&&t.ellipsis,(n.type===`previous`||n.type===`next`)&&t.previousNext,(n.type===`first`||n.type===`last`)&&t.firstLast]},M=e=>{let{classes:t,color:n,disabled:r,selected:i,size:a,shape:o,type:s,variant:c}=e;return d({root:[`root`,`size${_(a)}`,c,o,n!==`standard`&&`color${_(n)}`,n!==`standard`&&`${c}${_(n)}`,r&&`disabled`,i&&`selected`,{page:`page`,first:`firstLast`,last:`firstLast`,"start-ellipsis":`ellipsis`,"end-ellipsis":`ellipsis`,previous:`previousNext`,next:`previousNext`}[s]],icon:[`icon`]},w,t)},N=m(`div`,{name:`MuiPaginationItem`,slot:`Root`,overridesResolver:j})(p(({theme:e})=>({...e.typography.body2,borderRadius:32/2,textAlign:`center`,boxSizing:`border-box`,minWidth:32,padding:`0 6px`,margin:`0 3px`,color:(e.vars||e).palette.text.primary,height:`auto`,[`&.${T.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},variants:[{props:{size:`small`},style:{minWidth:26,borderRadius:26/2,margin:`0 1px`,padding:`0 4px`}},{props:{size:`large`},style:{minWidth:40,borderRadius:40/2,padding:`0 10px`,fontSize:e.typography.pxToRem(15)}}]}))),P=m(y,{name:`MuiPaginationItem`,slot:`Root`,overridesResolver:j})(p(({theme:e})=>({...e.typography.body2,borderRadius:32/2,textAlign:`center`,boxSizing:`border-box`,minWidth:32,height:32,padding:`0 6px`,margin:`0 3px`,color:(e.vars||e).palette.text.primary,[`&.${T.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${T.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},transition:e.transitions.create([`color`,`background-color`],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:`transparent`}},[`&.${T.selected}`]:{backgroundColor:(e.vars||e).palette.action.selected,"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${T.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)},[`&.${T.disabled}`]:{opacity:1,color:(e.vars||e).palette.action.disabled,backgroundColor:(e.vars||e).palette.action.selected}},variants:[{props:{size:`small`},style:{minWidth:26,height:26,borderRadius:26/2,margin:`0 1px`,padding:`0 4px`}},{props:{size:`large`},style:{minWidth:40,height:40,borderRadius:40/2,padding:`0 10px`,fontSize:e.typography.pxToRem(15)}},{props:{shape:`rounded`},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:`outlined`},style:{border:e.vars?`1px solid ${e.alpha(e.vars.palette.common.onBackground,.23)}`:`1px solid ${e.palette.mode===`light`?`rgba(0, 0, 0, 0.23)`:`rgba(255, 255, 255, 0.23)`}`,[`&.${T.selected}`]:{[`&.${T.disabled}`]:{borderColor:(e.vars||e).palette.action.disabledBackground,color:(e.vars||e).palette.action.disabled}}}},{props:{variant:`text`},style:{[`&.${T.selected}`]:{[`&.${T.disabled}`]:{color:(e.vars||e).palette.action.disabled}}}},...Object.entries(e.palette).filter(v([`dark`,`contrastText`])).map(([t])=>({props:{variant:`text`,color:t},style:{[`&.${T.selected}`]:{color:(e.vars||e).palette[t].contrastText,backgroundColor:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:(e.vars||e).palette[t].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t].main}},[`&.${T.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t].dark},[`&.${T.disabled}`]:{color:(e.vars||e).palette.action.disabled}}}})),...Object.entries(e.palette).filter(v([`light`])).map(([t])=>({props:{variant:`outlined`,color:t},style:{[`&.${T.selected}`]:{color:(e.vars||e).palette[t].main,border:`1px solid ${e.alpha((e.vars||e).palette[t].main,.5)}`,backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.activatedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,`${(e.vars||e).palette.action.activatedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`),"@media (hover: none)":{backgroundColor:`transparent`}},[`&.${T.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette[t].main,`${(e.vars||e).palette.action.activatedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}}}}))]}))),F=m(`div`,{name:`MuiPaginationItem`,slot:`Icon`})(p(({theme:e})=>({fontSize:e.typography.pxToRem(20),margin:`0 -8px`,variants:[{props:{size:`small`},style:{fontSize:e.typography.pxToRem(18)}},{props:{size:`large`},style:{fontSize:e.typography.pxToRem(22)}}]}))),I=A.forwardRef(function(t,n){let i=f({props:t,name:`MuiPaginationItem`}),{className:a,color:s=`standard`,component:c,components:l={},disabled:u=!1,page:d,selected:p=!1,shape:m=`circular`,size:h=`medium`,slots:g={},slotProps:_={},type:v=`page`,variant:y=`text`,...b}=i,x={...i,color:s,disabled:u,selected:p,shape:m,size:h,type:v,variant:y},S=e(),C=M(x),w={slots:{previous:g.previous??l.previous,next:g.next??l.next,first:g.first??l.first,last:g.last??l.last},slotProps:_},[T,A]=r(`previous`,{elementType:k,externalForwardedProps:w,ownerState:x}),[j,I]=r(`next`,{elementType:ee,externalForwardedProps:w,ownerState:x}),[L,R]=r(`first`,{elementType:D,externalForwardedProps:w,ownerState:x}),[z,B]=r(`last`,{elementType:O,externalForwardedProps:w,ownerState:x}),V=S?{previous:`next`,next:`previous`,first:`last`,last:`first`}[v]:v,H={previous:T,next:j,first:L,last:z}[V],U={previous:A,next:I,first:R,last:B}[V];return v===`start-ellipsis`||v===`end-ellipsis`?(0,E.jsx)(N,{ref:n,ownerState:x,className:o(C.root,a),children:`…`}):(0,E.jsxs)(P,{ref:n,ownerState:x,component:c,disabled:u,className:o(C.root,a),...b,children:[v===`page`&&d,H?(0,E.jsx)(F,{...U,className:C.icon,as:H}):null]})}),L=e=>{let{classes:t,variant:n}=e;return d({root:[`root`,n],ul:[`ul`]},S,t)},R=m(`nav`,{name:`MuiPagination`,slot:`Root`,overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[n.variant]]}})({}),z=m(`ul`,{name:`MuiPagination`,slot:`Ul`})({display:`flex`,flexWrap:`wrap`,alignItems:`center`,padding:0,margin:0,listStyle:`none`});function B(e,t,n){return e===`page`?`${n?``:`Go to `}page ${t}`:`Go to ${e} page`}var V=A.forwardRef(function(e,t){let n=f({props:e,name:`MuiPagination`}),{boundaryCount:r=1,className:i,color:a=`standard`,count:s=1,defaultPage:c=1,disabled:l=!1,getItemAriaLabel:u=B,hideNextButton:d=!1,hidePrevButton:p=!1,onChange:m,page:h,renderItem:g=e=>(0,E.jsx)(I,{...e}),shape:_=`circular`,showFirstButton:v=!1,showLastButton:y=!1,siblingCount:b=1,size:x=`medium`,variant:S=`text`,...w}=n,{items:T}=C({...n,componentName:`Pagination`}),D={...n,boundaryCount:r,color:a,count:s,defaultPage:c,disabled:l,getItemAriaLabel:u,hideNextButton:d,hidePrevButton:p,renderItem:g,shape:_,showFirstButton:v,showLastButton:y,siblingCount:b,size:x,variant:S},O=L(D);return(0,E.jsx)(R,{"aria-label":`pagination navigation`,className:o(O.root,i),ownerState:D,ref:t,...w,children:(0,E.jsx)(z,{className:O.ul,ownerState:D,children:T.map((e,t)=>(0,E.jsx)(`li`,{children:g({...e,color:a,"aria-label":u(e.type,e.page,e.selected),shape:_,size:x,variant:S})},t))})})}),H={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},U=A.createContext&&A.createContext(H),W=[`attr`,`size`,`title`];function G(e,t){if(e==null)return{};var n=K(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function K(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?J(Object(n),!0).forEach(function(t){X(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function X(e,t,n){return t=te(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e){var t=ne(e,`string`);return typeof t==`symbol`?t:t+``}function ne(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function Z(e){return e&&e.map((e,t)=>A.createElement(e.tag,Y({key:t},e.attr),Z(e.child)))}function Q(e){return t=>A.createElement(re,q({attr:Y({},e.attr)},t),Z(e.child))}function re(e){var t=t=>{var{attr:n,size:r,title:i}=e,a=G(e,W),o=r||t.size||`1em`,s;return t.className&&(s=t.className),e.className&&(s=(s?s+` `:``)+e.className),A.createElement(`svg`,q({stroke:`currentColor`,fill:`currentColor`,strokeWidth:`0`},t.attr,n,a,{className:s,style:Y(Y({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:`http://www.w3.org/2000/svg`}),i&&A.createElement(`title`,null,i),e.children)};return U===void 0?t(H):A.createElement(U.Consumer,null,e=>t(e))}function ie(e){return Q({tag:`svg`,attr:{version:`1`,viewBox:`0 0 48 48`,enableBackground:`new 0 0 48 48`},child:[{tag:`path`,attr:{fill:`#F44336`,d:`M34,9c-4.2,0-7.9,2.1-10,5.4C21.9,11.1,18.2,9,14,9C7.4,9,2,14.4,2,21c0,11.9,22,24,22,24s22-12,22-24 C46,14.4,40.6,9,34,9z`},child:[]},{tag:`rect`,attr:{x:`22`,y:`-2.9`,transform:`matrix(.707 -.707 .707 .707 -9.941 24)`,fill:`#37474F`,width:`4`,height:`53.7`},child:[]}]})(e)}function ae(e){return Q({tag:`svg`,attr:{version:`1`,viewBox:`0 0 48 48`,enableBackground:`new 0 0 48 48`},child:[{tag:`path`,attr:{fill:`#F44336`,d:`M34,9c-4.2,0-7.9,2.1-10,5.4C21.9,11.1,18.2,9,14,9C7.4,9,2,14.4,2,21c0,11.9,22,24,22,24s22-12,22-24 C46,14.4,40.6,9,34,9z`},child:[]}]})(e)}function oe(e){return Q({tag:`svg`,attr:{viewBox:`0 0 448 512`},child:[{tag:`path`,attr:{d:`M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z`},child:[]}]})(e)}var $=({card:e})=>{let{likeHandler:t,cardDeleteHandler:n,likedCardsById:r}=g(),i=l(),a=t=>{i(`/products/${t}`,{state:e})},o=(e,n)=>{t(e),n.stopPropagation()},s=async(e,t)=>{t.stopPropagation(),await n(e)};return(0,E.jsxs)(`div`,{className:`card-container`,onClick:()=>a(e.id),children:[(0,E.jsx)(`img`,{className:`profile-pic`,src:`assets/pics/profilePhoto.svg`,alt:``}),(0,E.jsx)(`p`,{children:e.email.slice(0,15)+`...`}),(0,E.jsxs)(`div`,{className:`icons-wrapper`,children:[(0,E.jsx)(`div`,{className:`iconButton`,onClick:t=>s(e.id,t),children:(0,E.jsx)(oe,{})}),(0,E.jsx)(`div`,{className:`iconButton`,onClick:t=>o(e,t),children:r.includes(e.id)?(0,E.jsx)(ie,{}):(0,E.jsx)(ae,{})})]})]})},se=()=>{let{cards:e,likedFilter:t,setLikedFilter:n,likedCardsById:r}=g();if(t===`Pinned`)return(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(E.Fragment,{children:r.length>0?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(`div`,{className:`products-container`,children:Array.from(e.values()).filter(e=>r.includes(e.id)).map(e=>(0,E.jsx)($,{card:e},e.id))}),(0,E.jsx)(b,{className:`back-button`,onClick:()=>n(`All`),children:`Back`})]}):(0,E.jsxs)(`div`,{className:`empty-pinned-filter`,children:[(0,E.jsx)(`h1`,{children:`Cписок закрепленного пуст!`}),(0,E.jsx)(b,{onClick:()=>n(`All`),children:`назад`})]})})})};function ce(e){return Q({tag:`svg`,attr:{t:`1569683368540`,viewBox:`0 0 1024 1024`,version:`1.1`},child:[{tag:`path`,attr:{d:`M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6c-0.3 1.5-0.4 3-0.4 4.4 0 14.4 11.6 26 26 26h723c1.5 0 3-0.1 4.4-0.4 14.2-2.4 23.7-15.9 21.2-30zM204 390h272V182h72v208h272v104H204V390z m468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z`},child:[]}]})(e)}var le=()=>{let{cards:e,setSearchingValue:t,searchingValue:n}=g(),r=e=>{t(e.target.value)},a=()=>{t(``)},o=Array.from(e.values()).filter(e=>e.email.toLowerCase().includes(n.toLowerCase()));return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(`div`,{className:`search-wrapper`,children:[(0,E.jsx)(`div`,{className:`search-input-div`,children:(0,E.jsx)(i,{className:`search-input`,type:`text`,value:n,onChange:e=>r(e),placeholder:`введите почту карточки: `})}),(0,E.jsx)(b,{className:`clearButton`,onClick:a,children:(0,E.jsx)(ce,{})})]}),n.length>0&&(0,E.jsx)(`div`,{className:`products-container`,children:o.length===0?(0,E.jsx)(`h1`,{className:`cardInfo-wrapper`,children:`Карочек не найдено!`}):o.map(e=>(0,E.jsx)($,{card:e},e.id))})]})},ue=()=>(0,E.jsx)(`div`,{children:(0,E.jsx)(`img`,{style:{display:`flex`,margin:`240px`},src:`assets/pics/Spinner-2.gif`,alt:`/`})}),de=()=>{let{cards:e,cardsOnPage:t,setPageNumber:n,pageNumber:r}=g(),i=(0,A.useMemo)(()=>Math.ceil(Array.from(e.values()).length/t),[e,t]),a=(e,t)=>{n(t)};return(0,E.jsx)(`div`,{className:`pag-wrapper`,children:(0,E.jsx)(V,{count:i,page:r,onChange:(e,t)=>a(e,t),showFirstButton:!0,showLastButton:!0,renderItem:e=>(0,E.jsx)(I,{component:h,to:`/products/?page=${e.page}`,...e})})})},fe=()=>{let{cards:e,likedFilter:t,cardsOnPage:n,pageNumber:r,isLoading:i,fetchCards:a,cardsExistHandler:o,cardsExist:s,searchingValue:c}=g(),l=n*r,u=l-n;return(0,E.jsxs)(E.Fragment,{children:[s&&t===`All`&&(0,E.jsx)(le,{}),c.length===0&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(se,{}),t===`All`?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(`div`,{className:`products-container`,children:[!s&&(0,E.jsx)(b,{onClick:()=>{o(),a(r)},style:{marginTop:`350px`},children:`Запросить карточки`}),i&&(0,E.jsx)(ue,{}),Array.from(e.values()).slice(u,l).map(e=>(0,E.jsx)($,{card:e},e.id))]}),!i&&s&&(0,E.jsx)(de,{})]}):null]}),`  `]})};export{fe as default};