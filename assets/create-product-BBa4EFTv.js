import{t as e}from"./Input-CY7dZI4s.js";import{A as t,F as n,I as r,j as i,k as a,t as o}from"./index-D4NonDyJ.js";import{i as s,n as c,r as l,t as u}from"./zod-Ba6MklsE.js";var d=[];for(let e=0;e<256;++e)d.push((e+256).toString(16).slice(1));function f(e,t=0){return(d[e[t+0]]+d[e[t+1]]+d[e[t+2]]+d[e[t+3]]+`-`+d[e[t+4]]+d[e[t+5]]+`-`+d[e[t+6]]+d[e[t+7]]+`-`+d[e[t+8]]+d[e[t+9]]+`-`+d[e[t+10]]+d[e[t+11]]+d[e[t+12]]+d[e[t+13]]+d[e[t+14]]+d[e[t+15]]).toLowerCase()}var p,m=new Uint8Array(16);function h(){if(!p){if(typeof crypto>`u`||!crypto.getRandomValues)throw Error(`crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported`);p=crypto.getRandomValues.bind(crypto)}return p(m)}var g={randomUUID:typeof crypto<`u`&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function _(e,t,n){e||={};let r=e.random??e.rng?.()??h();if(r.length<16)throw Error(`Random bytes length must be >= 16`);if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){if(n||=0,n<0||n+16>t.length)throw RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=r[e];return t}return f(r)}function v(e,t,n){return g.randomUUID&&!t&&!e?g.randomUUID():_(e,t,n)}var y=v;const b=c({name:l().min(5,`название слишком которкое`).max(20,`название слишком длинное`),email:l().min(7,`email слишком которкий`).max(40,`email слишком длинный`),body:l().min(10,`описание слишком короткое`).max(200,`описание слишком длинное`)});var x=r(n(),1),S=r(t(),1),C=()=>{let[t,n]=(0,x.useState)(!1),r=()=>y(),{createCard:c}=a(),{register:l,handleSubmit:d,reset:f,formState:{errors:p}}=s({defaultValues:{name:``,email:``,body:``},mode:`onChange`,resolver:u(b)});return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(`form`,{className:`form-wrapper`,onSubmit:d(async e=>{await c({...e,id:r(),postId:r(),isLiked:!1}),n(e=>!e),f(),setTimeout(()=>{n(!1)},1500)}),children:[(0,S.jsx)(i,{to:`/products`,children:(0,S.jsx)(o,{className:`back-button`,children:`back`})}),(0,S.jsx)(e,{placeholder:`имя карточки:`,...l(`name`)}),(0,S.jsx)(`div`,{className:`error-div`,children:p.name&&(0,S.jsx)(`h1`,{children:p.name.message})}),(0,S.jsx)(e,{type:`email`,placeholder:`email:`,...l(`email`)}),(0,S.jsx)(`div`,{className:`error-div`,children:p.email&&(0,S.jsx)(`h1`,{children:p.email.message})}),(0,S.jsx)(e,{placeholder:`описание карточки:`,...l(`body`)}),(0,S.jsx)(`div`,{className:`error-div`,children:p.body&&(0,S.jsx)(`h1`,{children:p.body.message})}),t&&(0,S.jsx)(`h1`,{children:`Карточка успешно создана`}),(0,S.jsx)(o,{type:`submit`,children:`Create`})]})})};export{C as default};